<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta al Oráculo</title>
    <link rel="stylesheet" href="../styles/baraja.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
    <div id="particles-js"></div>
    <div class="mystical-bg"></div>
    
    <div class="game-container">
        <div id="questionPopup" class="popup">
            <div class="popup-content">
                <div class="oracle-eye-container">
                    <img src="../assets/images/Ojo.png" alt="Ojo místico" class="oracle-eye-image">
                    <div class="oracle-eye">
                        <div class="oracle-eye-inner">
                            <div class="oracle-iris">
                                <div class="oracle-pupil"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <h2>Consulta al Oráculo</h2>
                <textarea id="question" placeholder="Escribe tu pregunta aquí..."></textarea>
                <p class="instruction">Las preguntas relizadas deben ser cerradas.</p>
                <p id="errorMessage" class="error-message" style="display: none;"></p>
                <button id="submitQuestion" class="oracle-button">Continuar</button>
            </div>
        </div>

        <div class="card-animation-container">
            <div id="cardDeck"></div>
        </div>

        <!-- Añadido el contenedor de botones con la clase correcta -->
        <div class="botones-container" id="buttonsContainer" style="display: none;">
            <button class="boton-baraja" onclick="window.location.href='game.html'">Continuar</button>
            <button class="boton-baraja" onclick="window.iniciarBarajado()">Barajear de nuevo</button>
        </div>

        <div id="interpretationPopup" class="popup" style="display: none;">
            <div class="popup-content">
                <h2>Interpretación del Oráculo</h2>
                <p id="interpretationText"></p>
                <button id="closeInterpretation" class="oracle-button">Cerrar</button>
            </div>
        </div>
    </div>

    <script type="module" src="../scripts/gemini-integration.js"></script>
    <script type="module" src="../scripts/barajeado.js"></script>
    <script src="../scripts/eye-animation.js"></script>
    <script>
        const particlesConfig = {
            particles: {
                number: { value: 50, density: { enable: true, value_area: 800 } },
                color: { value: "#ffffff" },
                shape: { type: "circle" },
                opacity: { value: 0.5, random: false },
                size: { value: 3, random: true },
                line_linked: { enable: false },
                move: {
                    enable: true,
                    speed: 1,
                    direction: "none",
                    random: true,
                    straight: false,
                    out_mode: "out",
                    bounce: false
                }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: false },
                    onclick: { enable: false },
                    resize: true
                }
            },
            retina_detect: false
        };

        particlesJS('particles-js', particlesConfig);
    </script>
</body>
</html>

